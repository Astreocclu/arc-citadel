id: dwarf_hold_major
name: Major Dwarf Hold
version: 1
species: dwarf
tags:
  - settlement
  - military
  - trade
  - underground
description: |
  A great dwarven hold carved deep into the mountain. These are the seats of
  dwarf clans, containing forges, ancestor halls, treasuries, and extensive
  mine works.

slots:
  - slot_id: entrance_main
    component_category: dwarf_hold_entrance
    required: true
    count:
      min: 1
      max: 2
    depth_range: [0, 0]
    edge_allowed: true
    center_preference: 0.0
    required_tags:
      - main_gate

  - slot_id: forge_complex
    component_category: dwarf_hold_forge
    required: true
    count:
      min: 2
      max: 4
    depth_range: [2, 5]
    center_preference: 0.7

  - slot_id: tavern
    component_category: dwarf_hold_tavern
    required: true
    count:
      min: 1
      max: 3
    depth_range: [1, 3]
    adjacent_to:
      - forge_complex

  - slot_id: living_quarters
    component_category: dwarf_hold_living_quarters
    required: true
    count:
      min: 3
      max: 6
    depth_range: [2, 5]

internal_connections:
  - from_slot: entrance_main
    to_slot: tavern
    connector_category: dwarf_hold_tunnel
    required: true
    max_length: 4

  - from_slot: tavern
    to_slot: forge_complex
    connector_category: dwarf_hold_tunnel
    required: true
    max_length: 3

external_ports:
  - port_id: main_gate
    attached_slot: entrance_main
    direction_preference:
      - S
      - SE
      - SW
    compatible_connectors:
      - trade_route
      - military_road
    required: true

min_footprint: 25
max_footprint: 60

terrain_requirements:
  - requires_mountains

min_distance_same_type: 30

history_seeds:
  - "Founded after a great migration from a fallen hold"
  - "Built atop an ancient mine that predates the current clan"
  - "Withstood a siege that lasted seven years"
