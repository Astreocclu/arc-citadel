[metadata]
name = "Gnoll"
module_name = "gnoll"

[entity_values]
bloodlust = { type = "f32", default = 0.55, description = "Frenzy triggered by scent of blood." }
pack_instinct = { type = "f32", default = 0.65, description = "Coordination with packmates in hunts." }
hunger = { type = "f32", default = 0.5, description = "Constant need to feed." }
cruelty = { type = "f32", default = 0.4, description = "Enjoyment of suffering." }
dominance = { type = "f32", default = 0.35, description = "Drive to establish pack hierarchy." }

[polity_state]
pack_frenzy = { type = "f32", default = "0.0" }
hunting_grounds = { type = "Vec<u32>", default = "Vec::new()" }
demon_taint = { type = "f32", default = "0.1" }
slave_count = { type = "u32", default = "0" }

[terrain_fitness]
mountain = 0.3
hills = 0.6
forest = 0.5
plains = 0.9
marsh = 0.4
coast = 0.3
desert = 0.7
river = 0.5

[growth]
rate = 1.06

[expansion]
threshold = 0.25

[naming]
prefixes = ["Gnar", "Yeen", "Rip", "Shak", "Kro", "Fang", "Howl", "Pak", "Gor", "Snarl"]
suffixes = ["-ak", "-ul", "-ek", "-maw", "-fang", "-claw", "-blood", "-bone", "-pack", "-hunt"]

[polity_types]
small = "Warband"
medium = "Tribe"
large = "Horde"

[[action_rules]]
trigger_value = "bloodlust"
threshold = 0.6
action = "Attack"
priority = "High"
requires_target = true
description = "Enter killing frenzy when blood is scented."

[[action_rules]]
trigger_value = "hunger"
threshold = 0.55
action = "Gather"
priority = "Normal"
requires_target = true
description = "Hunt for food."

[[action_rules]]
trigger_value = "pack_instinct"
threshold = 0.6
action = "Follow"
priority = "Normal"
requires_target = true
description = "Coordinate with packmates."

[[idle_behaviors]]
value = "hunger"
threshold = 0.4
action = "IdleWander"
requires_target = false
description = "Prowl territory seeking prey."

[[idle_behaviors]]
value = "dominance"
threshold = 0.5
action = "IdleObserve"
requires_target = false
description = "Watch packmates for signs of weakness."

[value_dynamics]
bloodlust = { tick_delta = 0.002, min = 0.0, max = 1.0 }
hunger = { tick_delta = 0.003, min = 0.0, max = 1.0 }
pack_instinct = { tick_delta = 0.0, min = 0.0, max = 1.0 }
cruelty = { tick_delta = 0.001, min = 0.0, max = 1.0 }
dominance = { tick_delta = 0.0, min = 0.0, max = 1.0 }

[[value_events]]
event = "combat_victory"
value = "bloodlust"
delta = 0.15

[[value_events]]
event = "combat_victory"
value = "dominance"
delta = 0.1

[[value_events]]
event = "feeding"
value = "hunger"
delta = -0.4
